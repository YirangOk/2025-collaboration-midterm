<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endangered Objects - Notebook</title>
    <link rel="stylesheet" href="https://use.typekit.net/pxf4isi.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <img id="main-image" src="cover.png" alt="Notebook">
    </div>
    <div id="buttons">
        <button class="btn" onclick="showContent(1)">1 Traces of Journeys</button>
        <button class="btn" onclick="showContent(2)">2 Intimacy in Hand</button>
        <button class="btn" onclick="showContent(3)">3 A Gentle Embrace</button>
        <button class="btn" onclick="showContent(4)">4 Unexpected Pen Companion</button>
        <button class="btn" onclick="showContent(5)">5 Lighter Than an Egg</button>
        <button class="btn" onclick="showContent(6)">6 Harmony of Wear</button>
        <button class="btn" onclick="showContent(7)">7 A Vessel of Memory</button>
    </div>
    <div id="content" class="content" onclick="closeContent(event)">
        <button id="close-button" onclick="hideContent(event)">X</button>
    </div>

    <script>
        const contents = {
            1: `<b>Traces of Journeys</b><br><div><img src='image_1.png' alt='Image 1'></div><p>Its cover bears faint scratches, and the page edges are tinged with a dark, verdant patina — evidence of journeys already taken.</p>`,
            2: `<b>Intimacy in Hand</b><br><div><img src='image_2.png' alt='Image 2'></div><p>Small enough to cradle in one hand, yet spacious enough to slip into a pocket, it strikes the perfect balance between intimacy and readiness.</p>`,
            3: `<b>A Gentle Embrace</b><br><div><img src='image_3.png' alt='Image 3'></div><p>Its elastic strap yields just enough to let me open it with ease, yet, when closed, offers a firm embrace that honours the solitude of my thoughts.</p>`,
            4: `<b>Unexpected Pen Companion</b><br><div><img src='image_4.png' alt='Image 4'></div><p>Though no pen-holder was ever designed, I've discovered that same strap — stretched within its golden range — welcomes a pen without ever letting it fall.</p>`,
            5: `<b>Lighter Than an Egg</b><br><div><img src='image_5.png' alt='Image 5'></div><p>Weighing less than a single egg, it asks nothing of my weary hands; even in fatigue, summoning it to life is never a burden.</p>`,
            6: `<b>Harmony of Wear</b><br><div><img src='image_6.png' alt='Image 6'></div><p>Upon opening, my fingertips trace the weathered edges — not decay, but a harmony born of use.</p>`,
            7: `<b>A Vessel of Memory</b><br><div><img src='image_7.png' alt='Image 7'></div><p>No stiff resistance like a brand-new journal, only the fluid rhythm of paper meeting paper...</p>`
        };

        function showContent(number) {
            const contentDiv = document.getElementById('content');
            const buttons = document.getElementById('buttons');
            contentDiv.innerHTML = `<button id="close-button" onclick="hideContent(event)">X</button>` + contents[
                number];
            contentDiv.classList.add('show');
            buttons.classList.add('hidden');
        }

        function hideContent(event) {
            event.stopPropagation();
            const contentDiv = document.getElementById('content');
            const buttons = document.getElementById('buttons');
            contentDiv.classList.remove('show');
            buttons.classList.remove('hidden');
        }

        function closeContent(event) {
            if (event.target.id === 'content') {
                hideContent(event);
            }
        }

        // 버튼 hover하면 z-index를 올려주는 기능
        window.onload = function () {
            const buttons = document.querySelectorAll('.btn');
            const placed = [];
            let zIndexCounter = 2; // 기본 1 위에서 시작

            buttons.forEach(button => {
                // 랜덤 배치
                let x, y;
                let tries = 0;
                let overlaps;

                do {
                    overlaps = false;
                    x = (Math.random() - 0.5) * 500;
                    y = (Math.random() - 0.5) * 500;

                    const buttonWidth = 150;
                    const buttonHeight = 50;

                    for (let pos of placed) {
                        const dx = pos.x - x;
                        const dy = pos.y - y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < (buttonWidth + buttonHeight) / 2) {
                            overlaps = true;
                            break;
                        }
                    }

                    tries++;
                    if (tries > 100) break;
                } while (overlaps);

                placed.push({
                    x,
                    y
                });
                button.style.transform = `translate(${x}px, ${y}px)`;

                // Hover 이벤트 추가
                button.addEventListener('mouseenter', () => {
                    button.style.zIndex = zIndexCounter++;
                });
            });
        };
    </script>

</body>

</html>